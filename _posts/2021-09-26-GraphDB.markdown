---
layout: post
title: "图数据库学习笔记"
subtitle: ""
date: 2021-09-26
author: 七月
category: IT技术
tags: 图数据库 算法 技术文档
finished: false
---

## 图数据库 TOP20(202109)

数据来源：https://db-engines.com/en/ranking/graph+dbms  （每月更新一次）

![image-20210926144016104](/Users/Rosanne/Documents/GitHub/Rosanne-Luo.github.io/img/2021-09-26-GraphDB//image-20210926144016104.png)

## 图数据库选购指南

内容摘取自neo4j官网的文章：**[The Graph Technology Buyer’s Guide](https://go.neo4j.com/rs/710-RRC-335/images/Graph-Technology-Buyers-Guide-EN-US.pdf?_gl=1*mcxk3z*_ga*MTE3OTc2NDU5NC4xNjMyNjI3OTEy*_ga_DL38Q8KGQC*MTYzMjY0MjA4Ni4zLjEuMTYzMjY0MjA5OS4w&_ga=2.190242156.657452020.1632627912-1179764594.1632627912&_gac=1.94827246.1632642097.Cj0KCQjwkbuKBhDRARIsAALysV67JKoB84riFfD4Etf5uWmuEtvL3pCga_8OYtNf-ujvFQG2RECdn2gaAnRuEALw_wcB)**

### 图数据库的好处

存储直观，反映了人类大脑的思考方式，高效的查找邻近数据。

最常用的场景和方案：

- 欺诈检测和分析：数据关系的实时分析对于揭露欺诈团伙和其他复杂的骗局是必不可少的。
- AL 和 ML:  AI 赢或者输取决于谁更能利用数据中的上下文信息
- 实时推荐引擎：基于图驱动的推荐引擎通过使用历史和实时数据构建一个报价地图帮助企业个性化产品、内容和服务
- 知识图谱：基于图形的搜索工具可以利用您的组织机构的记忆。它们还被用于更好的数字资产的管理。此外，知识图谱还是许多NLP和AI解决方案的基础。
- 网络和数据库基础设施监控：对于网络管理、数据中西、网络安全和IT基础设施，图数据库比RDBMS更适合于理解复杂的相互依赖关系
- 数据管理（MDM): 模式可选的图形数据库模型允许您灵活地组织和管理数据库。它还允许你能实时的，360度视角的观察你的客户，产品和员工。

**传统技术没有考虑数据是如何相互关联的**

**集合 VS. 连接**

**SQL 和 NoSQL 关注数据聚合和收集**

**图系统关注数据连接**

**简单的属性图**

**图数据库的好处**

### 图数据库的选购原则

图形数据库的购买原则常常被误解为类似于购买任何的传统数据库。在某种程度上这是对的，它们之间有一些共性问题，例如：

- 是否安全且冗余地存储数据？
- 是否有安全功能？
- 是否有容易使用的查询语言？
- 是否可嵌入？
- 是否可在云上运行？
- 是否能和现有的应用程序兼容？

上述问题是正确的。但是，还有一些支持数据关系方面的要求，使得图形数据库管理系统是无可替代的，因此也需要一些特定的购买标准。

**开源基础和社区**

代码开源能够推动软件的快速发展。在图形数据库里也一样。因此，在购买图形数据库时，需要综合考虑图形技术的开源社区的大小和各方面因素，包括市场影响力，市场可能获得的技能，软件的灵活性，而不仅仅是单一软件供应商的能力和人员。

**寻找开源社区**

有很多诞生自开源社区的图形技术。最值得注意的是Neo4j，它是第一个在2010年开源发布的图形数据库。近十年后，Neo4j的社区蓬勃发展，有数百万的下载量和成千上万的部署。

TinkerPop 是另一个开源的图形项目。TinkerPop 图遍历引擎 v1版本在2011年发布，在2015年成为apache孵化项目。由于易于集成，灵活的存储选项和允许使用的许可证，它已经成为一个NoSQL供应商在向其产品添加图形接口时的常用选择。

还有许多其他的似有图形供应商。然而，他们的能力与Neo4j和TinkerPop相比，其市场份额和采用率都大为受限。

[DB-Engines](https://db-engines.com/en/ ) 网站证明了这一市场现状。Neo4j的得分占整个图形市场人气得分的一般。于此同时，基于Tinker-Pop的产品产剧了大约40%的分数。剩下的10%则分给了另外20多加供应商。

**本地图存储**

如果没有本地图形存储，关系信息可能会丢失、错误连接或者飞起。许多非本地图解决方案能够允许图数据损坏，但是对于一些重要的企业应用程序，这是无法容忍的。

当考虑非本地图形技术时，买家应该询问：软件中是否存在从图形到文档或者图形到列的转换步骤？

文档数据库通常将关系存储为特殊的文档集合。列数据库可以将关系存储为列族。两者都不是本地存储的，因此增加了复杂性和查询时间。特别是当图遍历需要查询多个hops而每个hop又需要单独从底层系统翻译时。

带有无索引邻接的本地图存储支持高性能的图遍历。无索引邻接避免了非本地图存储和检索体系结构的昂贵、低级的转换。并且它的速度更快，成本更具有可预测性。

**ACID兼容**

长期以来被认为是数据库事务可靠性的黄金标准 ACID(原子性 Atomicity,  一致性 Consistency， Isolation 隔离性 和 持久性 Durability)  确保了DBMS安全可靠地存储事务性数据。

一些NoSQL 数据库避免遵从ACID， 在某些情况下这样做事可以的，但是图形数据库如果不遵从ACID会有非常严重的影响。

**图查询语言**

不同的产品之间的图形查询语言有很大的差异。大量的特定图形查询语言已经被开发了出来。其中一些只支持供应商自己的产品，而其他一些——Cypher 和 Gremlin 支持一些DBMS以及第三方图形可视化和集成工具。目前几乎所有的图形数据库供应商都支持Cypher或者Gremlin 或者两者兼而有之。值得注意的是，绝大多数图形数据库用户（包括开发人员）正在使用Cypher。

**Hybrid Transactional-Analytic Platforms(HTAP，混合事务分析平台)**

数据库用例通常分为在线事务处理（OLTP)和支持分析活动的应用程序（OLAP)， 包括数据仓库、只能业务、数据发现，数据挖掘等。图形数据通常柴永一种称为Hybrid的方法对分析信息和事务信息进行分层或者混合。

**OLTP 应用**

常见的图OLTP应用包括实时的标识和访问管理、推荐、社交网络发布、欺诈检测、网络系统运营、网络安全、物联网、人工智能、供应链、源数据管理等。

要求供应商提供客户案例。如果供应商不能提供案例，说明技术可能只存在于理论中。还要确认所提供的案例客户与他们是否是利益相关的。

**遍历查询性能比较**

做基准测试。寻找第三方测试机构，注意供应商是否在测试时作弊，例如故意通过修改某些设置提高自己产品的性能，或者故意降低对手产品的性能。可以考虑咨询如下问题：

1. 当遍历的hops增加时，性能是否会呈现指数级下降？
2. 基准测试是比较了预编译的二进制查询和解释的二进制查询吗？这种对比是公平的吗，是否应该对两个都是预编译的二进制查询进行比较？
3. 供应商是完全执行了系统还是仅仅突出了它的优势部分？
4. 缓存策略是否一样？两个图都加载到内存中了吗，还是只有一个产品完全载入内存而另一个则在缓存和磁盘之间交换？
5. 是否过于强调一次性数据加载操作，而不是多用户或者多绘画测试，后者更能放映常规使用情况
6. 基准会话是多用户的，还是利用所有可用的CPU资源来并行查询的单个会话？
7. 基准测试是否考略了真是世界的读写负载？
8. 系统配置是否最优且公平：系统大小、内存、调优配置参数？

**图分析**

更偏向提供了各种教育、实操手册等资料的供应商。

更偏向支持常见的流行的图算法的供应商。

**数据集成和摄入**

图系统能和Spark生态系统一起工作吗？

图形可以从Spark数据帧物化吗？

图结构能够直接导入到图数据库系统中嘛？

Talend 和 Kettle

CSV导入

**开发工具**

neo4j 桌面版

Neo4j 提供了对Java、JavaScript、.Net、Python 和Go的商业支持。NEO4J社区为更多的语言提供了驱动程序。TinkerPop还提供了一些社区支持的语言集成驱动程序。

供应商支持GraphQL吗？

供应商支持SPARQL吗？

供应商支持 REST API 和 框架吗？

供应商是否积极支持多种新兴标准，如GRANDstack或者类似的呢？

数据库可以嵌入到周围的应用程序中吗？

图形系统是否可以较容易地嵌入到更大的应用程序中？

供应商支持鲁棒的OEM网络或者启动程序

**可视化能力**

图形数据可视化工具是否不需要非专业用户编码？

可视化工具是否支持自然语言检索？

图形可视化工具是否内置查询建议？

可视化工具是否基于web从而能够更容易的访问？

### 购买准则总结

- 开源基金和社区
- 本地图存储
- ACID兼容
- 图查询语言
- HTAP
- 图形平台with Tools并且支持所有的用户
- 商业模式、专注和持久力

#### 